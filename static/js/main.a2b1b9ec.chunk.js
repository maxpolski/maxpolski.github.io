(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{241:function(e,t,a){e.exports=a(509)},508:function(e,t,a){},509:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),i=a.n(o),l=a(27),c=a.n(l),s=(a(246),a(247),a(29)),u=a(140),m=a.n(u),d=a(14),p=a(215),E=a(204),b=a(30),O=a(32),f=a(54),v=a(510),h=a(512),M=Object(h.a)("GET_MOVIES"),j=Object(h.a)("GET_MOVIES_COMPLETED"),D=Object(h.a)("EDIT_MOVIE"),w=Object(h.a)("ADD_MOVIE"),y=Object(h.a)("ADD_MOVIE_COMPLETED"),T=Object(h.a)("DELETE_MOVIE"),_=Object(v.a)((n={},Object(b.a)(n,j,function(e,t){return Object(f.a)(t.payload)}),Object(b.a)(n,T,function(e,t){return e.filter(function(e){return e.id!==t.payload})}),Object(b.a)(n,D,function(e,t){var a=e.findIndex(function(e){return e.id===t.payload.id});return[].concat(Object(f.a)(e.slice(0,a)),[Object(O.a)({},t.payload)],Object(f.a)(e.slice(a+1)))}),Object(b.a)(n,y,function(e,t){return[].concat(Object(f.a)(e),[t.payload])}),n),[]),I=a(511),g="MOVIE_EDIT_MODAL",L="MOVIE_ADD_MODAL",N=Object(h.a)("SHOW_DELETE_MOVIE_MODAL"),A=Object(h.a)("SHOW_EDIT_MOVIE_MODAL"),x=Object(h.a)("SHOW_ADD_MOVIE_MODAL"),S=Object(h.a)("HIDE_DELETE_MOVIE_MODAL"),C=Object(h.a)("HIDE_EDIT_MOVIE_DATA_MODAL"),P=Object(h.a)("HIDE_ADD_MOVIE_MODAL"),k=Object(v.a)((r={},Object(b.a)(r,x,function(e){return Object(O.a)({},e,{shownModal:L})}),Object(b.a)(r,N,function(e,t){return Object(O.a)({},e,{shownModal:"MOVIE_DELETE_MODAL",movieToDeleteId:t.payload})}),Object(b.a)(r,A,function(e,t){return Object(O.a)({},e,{shownModal:g,movieToEditId:t.payload})}),Object(b.a)(r,Object(I.a)(S,C,P),function(e){return Object(O.a)({},e,{shownModal:"",movieToDeleteId:void 0,movieToEditId:void 0})}),r),{shownModal:"",movieToDeleteId:void 0,movieToEditId:void 0}),F=Object(d.c)({modals:k}),V=Object(d.c)({form:E.a,movies:_,ui:F}),H=a(49),G=a.n(H),W=a(50),R=a(206),Y=a.n(R),B="ee9fbbc",z=function(){return Promise.all(["The Grand Budapest Hotel","isle of dogs","the double","moonrise kingdom","star wars","Inglourious Basterds","kill bill","django unchained"].map(function(e){return e.replace(" ","+")}).map(function(e){return fetch("https://www.omdbapi.com/?t=".concat(e,"&apikey=").concat(B)).then(function(e){return e.json()})}))},U=G.a.mark(X),J=G.a.mark(q);function X(){var e,t;return G.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(W.b)(z);case 2:return e=a.sent,t=e.map(function(e){return{id:e.imdbID,icon:e.Poster,title:e.Title,genre:e.Genre.split(", ").length?e.Genre.split(", ")[0]:e.Genre,year:Number.parseInt(e.Year,10),director:e.Director,runtime:Number.parseInt(e.Runtime.split(" ")[0],10)}}),a.next=6,Object(W.c)(j(t));case 6:case"end":return a.stop()}},U,this)}function q(e){var t;return G.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=Y()(),a.next=3,Object(W.c)(y(Object(O.a)({},e.payload,{id:t})));case 3:case"end":return a.stop()}},J,this)}var Z=[Object(W.d)("GET_MOVIES",X),Object(W.d)("ADD_MOVIE",q)],K=G.a.mark(Q);function Q(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)(Object(f.a)(Z));case 2:case"end":return e.stop()}},K,this)}var $=Object(p.a)(),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,te=Object(d.e)(V,ee(Object(d.a)($)));$.run(Q);var ae=a(96),ne=a(97),re=a(103),oe=a(98),ie=a(104),le=a(10),ce=a.n(le),se=a(9),ue=a.n(se),me=a(141),de=a.n(me),pe=a(207),Ee=a.n(pe),be=a(208),Oe=a.n(be),fe=a(209),ve=a.n(fe),he=a(210),Me=a.n(he),je=a(36),De=a.n(je),we=a(31),ye=a.n(we),Te=a(138),_e=a.n(Te),Ie=a(211),ge=a.n(Ie),Le=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).showDeleteMoviePopupHandler=function(e){return function(){(0,a.props.showDeleteMovieModal)(e)}},a.showEditMoviePopupHandler=function(e){return function(){(0,a.props.showEditMovieModal)(e)}},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getMovies)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.movies,n=t.classes,r=t.showAddMovieModal;return i.a.createElement("div",{className:ce()(n.root,"container-fluid")},i.a.createElement("div",{className:"row flex-column"},i.a.createElement(de.a,{container:!0,spacing:24},a.map(function(t){return i.a.createElement(de.a,{lg:3,md:4,sm:6,xs:12,item:!0,key:t.id},i.a.createElement(Ee.a,null,i.a.createElement(Oe.a,{className:n.media,image:t.icon||"https://media.wired.com/photos/5b7350e75fc74d47846ce4e4/master/pass/Popcorn-869302844.jpg",title:"".concat(t.title," poster")}),i.a.createElement(ve.a,null,i.a.createElement(De.a,{gutterBottom:!0,variant:"h5",component:"h2"},(a=t.title,Object(d.d)(function(e){return e.split(" ").map(function(e){return e.split("").map(function(e){return e.toLowerCase()}).join("")}).map(function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}).join(" ")},function(e){return e.split("").filter(function(e){return/[A-Za-z0-9]+|\s/.test(e)}).join("")})(a))),i.a.createElement(De.a,{component:"p"},"Year:"," ",t.year),i.a.createElement(De.a,{component:"p"},"Runtime:"," ","".concat(t.runtime," min")),i.a.createElement(De.a,{component:"p"},"Genre:"," ",t.genre),i.a.createElement(De.a,{component:"p"},"Director:"," ",t.director)),i.a.createElement(Me.a,null,i.a.createElement(ye.a,{onClick:e.showEditMoviePopupHandler(t.id),size:"small",color:"primary"},"Edit"),i.a.createElement(ye.a,{onClick:e.showDeleteMoviePopupHandler(t.id),size:"small",color:"primary"},"Delete"))));var a})),i.a.createElement(_e.a,{"aria-label":"Delete",className:ce()(n.addBtn,"ml-auto"),onClick:r},i.a.createElement(ge.a,null))))}}]),t}(o.Component),Ne={getMovies:M,showDeleteMovieModal:N,showEditMovieModal:A,showAddMovieModal:x},Ae=Object(d.d)(ue()(function(){return{media:{height:450},addBtn:{marginTop:10,marginRight:5,backgroundColor:"#e0e0e0"},root:{flexGrow:1,overflow:"hidden",padding:"50px"}}}),Object(s.b)(function(e){return{movies:e.movies}},Ne))(Le),xe=a(101),Se=a.n(xe),Ce=a(99),Pe=a.n(Ce),ke=a(100),Fe=a.n(ke),Ve=a(142),He=function(e){return e.movies},Ge=function(e,t){return e.find(function(e){return e.id===t})},We=Object(Ve.a)(He,function(e){return e.ui.modals.movieToDeleteId},Ge),Re=Object(Ve.a)(He,function(e){return e.ui.modals.movieToEditId},Ge),Ye=function(e){return e.ui.modals.shownModal},Be=function(){return{paper:{width:"100%",outline:"none"},yearSelectList:{maxHeight:400,padding:0},inputField:{marginBottom:15,marginTop:15},errorLabel:{position:"absolute",bottom:-18}}},ze={hideDeleteMovieModal:S,deleteMovie:T},Ue=Object(d.d)(Object(s.b)(function(e){return{shouldShow:"MOVIE_DELETE_MODAL"===e.ui.modals.shownModal,movie:We(e)||{}}},ze),ue()(Be))(function(e){var t=e.hideDeleteMovieModal,a=e.shouldShow,n=e.deleteMovie,r=e.movie.id;return i.a.createElement(Pe.a,{open:a,onClose:t},i.a.createElement(Fe.a,null,"Are you sure want to delete this movie?"),i.a.createElement(Se.a,null,i.a.createElement(ye.a,{onClick:t,color:"primary"},"No"),i.a.createElement(ye.a,{onClick:function(){n(r),t()},color:"primary",autoFocus:!0},"Yes")))}),Je=a(62),Xe=a(213),qe=a.n(Xe),Ze=a(95),Ke=a(202),Qe=a(74),$e=a(203),et=a(40),tt=a(214),at=a.n(tt),nt=function(e){return e?void 0:"Required Field"},rt=a(102),ot=a.n(rt),it=Object(Je.a)({startYear:1900,endYear:2019})(function(e){var t=e.startYear,a=e.endYear,n=e.classes,r=Array.from(new Array(a-t));return i.a.createElement(Ke.a,{fullWidth:!0,select:!0,label:"Year",validate:[nt],component:et.TextField,name:"year",className:n.inputField,FormHelperTextProps:{className:n.errorLabel},SelectProps:{MenuProps:{MenuListProps:{className:n.yearSelectList}}}},r.map(function(e,a){var n=t+a;return i.a.createElement(ot.a,{key:n,value:n.toString()},n)}))}),lt=Object(Je.a)({genresList:["Absurdist/surreal/whimsical","Action","Adventure","Comedy","Crime","Drama","Fantasy","Historical","Historical fiction","Horror","Magical realism","Mystery","Paranoid Fiction","Philosophical","Political","Romance","Saga","Satire","Science fiction","Social","Speculative","Thriller","Urban","Western","Animation"]})(function(e){var t=e.genresList,a=e.classes;return i.a.createElement(Ke.a,{fullWidth:!0,select:!0,multiple:!0,label:"Genre",className:a.inputField,validate:[nt],component:et.TextField,name:"genre",FormHelperTextProps:{className:a.errorLabel},SelectProps:{MenuProps:{MenuListProps:{className:a.yearSelectList}}}},t.map(function(e){return i.a.createElement(ot.a,{key:e,value:e},e)}))}),ct=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).handleSubmitClick=function(e,t,n){var r=a.props,o=r.modalName,i=r.addMovie,l=n.editMovie;if(a.checkIsDuplicatingName(e.title,e.id))throw new Ze.a({title:"Title already exist!"});o===g&&l(e),o===L&&i(e),a.handleClose()},a.handleClose=function(){var e=a.props,t=e.hideEditMovieDataModal,n=e.reset,r=e.modalName;t(),n(r)},a.checkIsDuplicatingName=function(e,t){return a.props.movies.some(function(a){var n=a.title,r=a.id;return n.toLowerCase()===e.toLowerCase()&&r!==t})},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleSubmit,n=e.isShown,r=e.modalName===L?"New Movie":"Edit Movie";return i.a.createElement(Pe.a,{open:n,onClose:this.handleClose},i.a.createElement(Fe.a,null,i.a.createElement(De.a,{variant:"h6"},r)),i.a.createElement(qe.a,null,i.a.createElement("form",{className:t.paper,onSubmit:a(this.handleSubmitClick)},i.a.createElement(Ke.a,{label:"Title",fullWidth:!0,validate:[nt],component:et.TextField,name:"title",type:"text",className:t.inputField,FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(Ke.a,{label:"Poster URL",fullWidth:!0,component:et.TextField,name:"icon",type:"text",className:t.inputField,FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(it,{classes:t}),i.a.createElement(lt,{classes:t}),i.a.createElement(Ke.a,{label:"Runtime",fullWidth:!0,className:t.inputField,component:et.TextField,validate:[nt],name:"runtime",type:"number",InputProps:{endAdornment:i.a.createElement(at.a,{position:"end"},"min")},FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(Ke.a,{fullWidth:!0,className:t.inputField,component:et.TextField,validate:[nt],name:"director",label:"Director",type:"text",FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(Se.a,null,i.a.createElement(ye.a,{onClick:this.handleClose},"Cancel"),i.a.createElement(ye.a,{type:"submit"},"Save")))))}}]),t}(o.Component),st=function(e,t){var a=Re(e);return{movies:e.movies,isShown:Ye(e)===t.modalName,initialValues:Object(O.a)({},e[t.modalName],t.modalName!==L&&a?a:t.initialValues)}},ut={editMovie:D,hideEditMovieDataModal:C,addMovie:w,reset:Qe.a},mt={title:"",genre:[""],runtime:void 0,director:"",year:void 0},dt=function(e){return Object(d.d)(Object(Je.a)({initialValues:mt,modalName:e}),Object(s.b)(st,ut),ue()(Be),Object($e.a)({form:e,enableReinitialize:!0}))(ct)},pt=dt(g),Et=dt(L),bt=a(139),Ot=Object(bt.createMuiTheme)({typography:{useNextVariants:!0}}),ft=function(){return i.a.createElement(m.a,{theme:Ot},i.a.createElement(s.a,{store:te},i.a.createElement(Ae,null),i.a.createElement(Ue,null),i.a.createElement(pt,null),i.a.createElement(Et,null)))};a(508);c.a.render(i.a.createElement(ft,null),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.a2b1b9ec.chunk.js.map