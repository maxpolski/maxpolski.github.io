(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{240:function(e,t,a){e.exports=a(507)},506:function(e,t,a){},507:function(e,t,a){"use strict";a.r(t);var n,o,r=a(0),i=a.n(r),c=a(28),l=a.n(c),s=(a(245),a(246),a(30)),u=a(139),m=a.n(u),d=a(14),p=a(214),b=a(202),E=a(26),O=a(32),f=a(54),h=a(508),v=a(510),M=Object(v.a)("GET_MOVIES"),j=Object(v.a)("GET_MOVIES_COMPLETED"),D=Object(v.a)("EDIT_MOVIE"),w=Object(v.a)("ADD_MOVIE"),y=Object(v.a)("ADD_MOVIE_COMPLETED"),T=Object(v.a)("DELETE_MOVIE"),_=Object(h.a)((n={},Object(E.a)(n,j,function(e,t){return Object(f.a)(t.payload)}),Object(E.a)(n,T,function(e,t){return e.filter(function(e){return e.id!==t.payload})}),Object(E.a)(n,D,function(e,t){var a=e.findIndex(function(e){return e.id===t.payload.id});return[].concat(Object(f.a)(e.slice(0,a)),[Object(O.a)({},t.payload)],Object(f.a)(e.slice(a+1)))}),Object(E.a)(n,y,function(e,t){return[].concat(Object(f.a)(e),[t.payload])}),n),[]),I=a(509),g="MOVIE_EDIT_MODAL",L="MOVIE_ADD_MODAL",N=Object(v.a)("SHOW_DELETE_MOVIE_MODAL"),x=Object(v.a)("SHOW_EDIT_MOVIE_MODAL"),A=Object(v.a)("SHOW_ADD_MOVIE_MODAL"),S=Object(v.a)("HIDE_DELETE_MOVIE_MODAL"),C=Object(v.a)("HIDE_EDIT_MOVIE_DATA_MODAL"),P=Object(v.a)("HIDE_ADD_MOVIE_MODAL"),k=Object(h.a)((o={},Object(E.a)(o,A,function(e){return Object(O.a)({},e,{shownModal:L})}),Object(E.a)(o,N,function(e,t){return Object(O.a)({},e,{shownModal:"MOVIE_DELETE_MODAL",movieToDeleteId:t.payload})}),Object(E.a)(o,x,function(e,t){return Object(O.a)({},e,{shownModal:g,movieToEditId:t.payload})}),Object(E.a)(o,Object(I.a)(S,C,P),function(e){return Object(O.a)({},e,{shownModal:"",movieToDeleteId:void 0,movieToEditId:void 0})}),o),{shownModal:"",movieToDeleteId:void 0,movieToEditId:void 0}),F=Object(d.c)({modals:k}),V=Object(d.c)({form:b.a,movies:_,ui:F}),H=a(49),G=a.n(H),W=a(50),R=a(204),Y=a.n(R),B="ee9fbbc",z=function(){return Promise.all(["The Grand Budapest Hotel","isle of dogs","the double"].map(function(e){return e.split(" ").join("+")}).map(function(e){return fetch("https://www.omdbapi.com/?t=".concat(e,"&apikey=").concat(B)).then(function(e){return e.json()})}))},U=G.a.mark(X),J=G.a.mark(q);function X(){var e,t;return G.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(W.b)(z);case 2:return e=a.sent,t=e.map(function(e){return{id:e.imdbID,icon:e.Poster,title:e.Title,genre:e.Genre.split(", ").length?e.Genre.split(", ")[0]:e.Genre,year:Number.parseInt(e.Year,10),director:e.Director,runtime:Number.parseInt(e.Runtime.split(" ")[0],10)}}),a.next=6,Object(W.c)(j(t));case 6:case"end":return a.stop()}},U,this)}function q(e){var t;return G.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=Y()(),a.next=3,Object(W.c)(y(Object(O.a)({},e.payload,{id:t})));case 3:case"end":return a.stop()}},J,this)}var Z=[Object(W.d)("GET_MOVIES",X),Object(W.d)("ADD_MOVIE",q)],K=G.a.mark(Q);function Q(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)(Object(f.a)(Z));case 2:case"end":return e.stop()}},K,this)}var $=Object(p.a)(),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,te=Object(d.e)(V,ee(Object(d.a)($)));$.run(Q);var ae=a(97),ne=a(98),oe=a(102),re=a(99),ie=a(103),ce=a(10),le=a.n(ce),se=a(9),ue=a.n(se),me=a(140),de=a.n(me),pe=a(205),be=a.n(pe),Ee=a(206),Oe=a.n(Ee),fe=a(207),he=a.n(fe),ve=a(208),Me=a.n(ve),je=a(36),De=a.n(je),we=a(31),ye=a.n(we),Te=a(137),_e=a.n(Te),Ie=a(209),ge=a.n(Ie),Le=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(oe.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(o)))).showDeleteMoviePopupHandler=function(e){return function(){(0,a.props.showDeleteMovieModal)(e)}},a.showEditMoviePopupHandler=function(e){return function(){(0,a.props.showEditMovieModal)(e)}},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getMovies)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.movies,n=t.classes,o=t.showAddMovieModal;return i.a.createElement("div",{className:le()(n.root,"container-fluid")},i.a.createElement("div",{className:"row flex-column"},i.a.createElement(de.a,{container:!0,spacing:24},a.map(function(t){return i.a.createElement(de.a,{lg:3,md:4,sm:6,xs:12,item:!0,key:t.id},i.a.createElement(be.a,null,i.a.createElement(Oe.a,{className:n.media,image:t.icon||"https://media.wired.com/photos/5b7350e75fc74d47846ce4e4/master/pass/Popcorn-869302844.jpg",title:"".concat(t.title," poster")}),i.a.createElement(he.a,null,i.a.createElement(De.a,{gutterBottom:!0,variant:"h5",component:"h2"},(a=t.title,Object(d.d)(function(e){return e.split(" ").map(function(e){return e.split("").map(function(e){return e.toLowerCase()}).join("")}).map(function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}).join(" ")},function(e){return e.split("").filter(function(e){return/[A-Za-z]+|\s/.test(e)}).join("")})(a))),i.a.createElement(De.a,{component:"p"},"Year:"," ",t.year),i.a.createElement(De.a,{component:"p"},"Runtime:"," ","".concat(t.runtime," min")),i.a.createElement(De.a,{component:"p"},"Genre:"," ",t.genre),i.a.createElement(De.a,{component:"p"},"Director:"," ",t.director)),i.a.createElement(Me.a,null,i.a.createElement(ye.a,{onClick:e.showEditMoviePopupHandler(t.id),size:"small",color:"primary"},"Edit"),i.a.createElement(ye.a,{onClick:e.showDeleteMoviePopupHandler(t.id),size:"small",color:"primary"},"Delete"))));var a})),i.a.createElement(_e.a,{"aria-label":"Delete",className:le()(n.addBtn,"ml-auto"),onClick:o},i.a.createElement(ge.a,null))))}}]),t}(r.Component),Ne={getMovies:M,showDeleteMovieModal:N,showEditMovieModal:x,showAddMovieModal:A},xe=Object(d.d)(ue()(function(){return{media:{height:450},addBtn:{marginTop:10,marginRight:5,backgroundColor:"#e0e0e0"},root:{flexGrow:1,overflow:"hidden",padding:"50px"}}}),Object(s.b)(function(e){return{movies:e.movies}},Ne))(Le),Ae=a(100),Se=a.n(Ae),Ce=a(210),Pe=a.n(Ce),ke=a(211),Fe=a.n(ke),Ve=a(141),He=function(e){return e.movies},Ge=function(e,t){return e.find(function(e){return e.id===t})},We=Object(Ve.a)(He,function(e){return e.ui.modals.movieToDeleteId},Ge),Re=Object(Ve.a)(He,function(e){return e.ui.modals.movieToEditId},Ge),Ye=function(e){return e.ui.modals.shownModal},Be=function(e){return{paper:Object(E.a)({position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",top:200,left:"calc(50% - ".concat(50*e.spacing.unit/2,"px)")},e.breakpoints.down("sm"),{top:0,bottom:0,left:0,right:0,width:"auto"}),yearSelectList:{maxHeight:400,padding:0},inputField:{marginBottom:15,marginTop:15},errorLabel:{position:"absolute",bottom:-18}}},ze={hideDeleteMovieModal:S,deleteMovie:T},Ue=Object(d.d)(Object(s.b)(function(e){return{shouldShow:"MOVIE_DELETE_MODAL"===e.ui.modals.shownModal,movie:We(e)||{}}},ze),ue()(Be))(function(e){var t=e.hideDeleteMovieModal,a=e.shouldShow,n=e.deleteMovie,o=e.movie.id;return i.a.createElement(Pe.a,{open:a,onClose:t},i.a.createElement(Fe.a,null,"Are you sure want to delete this movie?"),i.a.createElement(Se.a,null,i.a.createElement(ye.a,{onClick:t,color:"primary"},"No"),i.a.createElement(ye.a,{onClick:function(){n(o),t()},color:"primary",autoFocus:!0},"Yes")))}),Je=a(62),Xe=a(94),qe=a.n(Xe),Ze=a(96),Ke=a(200),Qe=a(74),$e=a(201),et=a(40),tt=a(213),at=a.n(tt),nt=function(e){return e?void 0:"Required Field"},ot=a(101),rt=a.n(ot),it=Object(Je.a)({startYear:1900,endYear:2019})(function(e){var t=e.startYear,a=e.endYear,n=e.classes,o=Array.from(new Array(a-t));return i.a.createElement(Ke.a,{fullWidth:!0,select:!0,label:"Year",validate:[nt],component:et.TextField,name:"year",className:n.inputField,FormHelperTextProps:{className:n.errorLabel},SelectProps:{MenuProps:{MenuListProps:{className:n.yearSelectList}}}},o.map(function(e,a){var n=t+a;return i.a.createElement(rt.a,{key:n,value:n.toString()},n)}))}),ct=Object(Je.a)({genresList:["Absurdist/surreal/whimsical","Action","Adventure","Comedy","Crime","Drama","Fantasy","Historical","Historical fiction","Horror","Magical realism","Mystery","Paranoid Fiction","Philosophical","Political","Romance","Saga","Satire","Science fiction","Social","Speculative","Thriller","Urban","Western","Animation"]})(function(e){var t=e.genresList,a=e.classes;return i.a.createElement(Ke.a,{fullWidth:!0,select:!0,multiple:!0,label:"Genre",className:a.inputField,validate:[nt],component:et.TextField,name:"genre",FormHelperTextProps:{className:a.errorLabel},SelectProps:{MenuProps:{MenuListProps:{className:a.yearSelectList}}}},t.map(function(e){return i.a.createElement(rt.a,{key:e,value:e},e)}))}),lt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(oe.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(o)))).handleSubmitClick=function(e,t,n){var o=a.props,r=o.modalName,i=o.addMovie,c=n.editMovie;if(a.checkIsDuplicatingName(e.title,e.id))throw new Ze.a({title:"Title already exist!"});r===g&&c(e),r===L&&i(e),a.handleClose()},a.handleClose=function(){var e=a.props,t=e.hideEditMovieDataModal,n=e.reset,o=e.modalName;t(),n(o)},a.checkIsDuplicatingName=function(e,t){return a.props.movies.some(function(a){var n=a.title,o=a.id;return n.toLowerCase()===e.toLowerCase()&&o!==t})},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleSubmit,n=e.isShown,o=e.modalName===L?"New Movie":"Edit Movie";return i.a.createElement(qe.a,{open:n,onClose:this.handleClose},i.a.createElement("form",{className:t.paper,onSubmit:a(this.handleSubmitClick)},i.a.createElement(De.a,{variant:"h6"},o),i.a.createElement(Ke.a,{label:"Title",fullWidth:!0,validate:[nt],component:et.TextField,name:"title",type:"text",className:t.inputField,FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(Ke.a,{label:"Poster URL",fullWidth:!0,component:et.TextField,name:"icon",type:"text",className:t.inputField,FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(it,{classes:t}),i.a.createElement(ct,{classes:t}),i.a.createElement(Ke.a,{label:"Runtime",fullWidth:!0,className:t.inputField,component:et.TextField,validate:[nt],name:"runtime",type:"number",InputProps:{endAdornment:i.a.createElement(at.a,{position:"end"},"min")},FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(Ke.a,{fullWidth:!0,className:t.inputField,component:et.TextField,validate:[nt],name:"director",label:"Director",type:"text",FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(Se.a,null,i.a.createElement(ye.a,{onClick:this.handleClose},"Cancel"),i.a.createElement(ye.a,{type:"submit"},"Save"))))}}]),t}(r.Component),st=function(e,t){var a=Re(e);return{movies:e.movies,isShown:Ye(e)===t.modalName,initialValues:Object(O.a)({},e[t.modalName],t.modalName!==L&&a?a:t.initialValues)}},ut={editMovie:D,hideEditMovieDataModal:C,addMovie:w,reset:Qe.a},mt={title:"",genre:[""],runtime:void 0,director:"",year:void 0},dt=function(e){return Object(d.d)(Object(Je.a)({initialValues:mt,modalName:e}),Object(s.b)(st,ut),ue()(Be),Object($e.a)({form:e,enableReinitialize:!0}))(lt)},pt=dt(g),bt=dt(L),Et=a(138),Ot=Object(Et.createMuiTheme)({typography:{useNextVariants:!0}}),ft=function(){return i.a.createElement(m.a,{theme:Ot},i.a.createElement(s.a,{store:te},i.a.createElement(xe,null),i.a.createElement(Ue,null),i.a.createElement(pt,null),i.a.createElement(bt,null)))};a(506);l.a.render(i.a.createElement(ft,null),document.getElementById("root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.c21e2f45.chunk.js.map