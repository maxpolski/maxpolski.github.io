(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{243:function(e,t,a){e.exports=a(506)},505:function(e,t,a){},506:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),i=a.n(o),l=a(28),c=a.n(l),s=(a(248),a(249),a(30)),u=a(142),d=a.n(u),m=a(14),p=a(217),f=a(203),b=a(26),E=a(31),O=a(54),v=a(507),h=a(509),M=Object(h.a)("GET_MOVIES"),j=Object(h.a)("GET_MOVIES_COMPLETED"),D=Object(h.a)("EDIT_MOVIE"),w=Object(h.a)("ADD_MOVIE"),y=Object(h.a)("ADD_MOVIE_COMPLETED"),I=Object(h.a)("DELETE_MOVIE"),T=Object(v.a)((n={},Object(b.a)(n,j,function(e,t){return Object(O.a)(t.payload)}),Object(b.a)(n,I,function(e,t){return e.filter(function(e){return e.id!==t.payload})}),Object(b.a)(n,D,function(e,t){var a=e.findIndex(function(e){return e.id===t.payload.id});return[].concat(Object(O.a)(e.slice(0,a)),[Object(E.a)({},t.payload)],Object(O.a)(e.slice(a+1)))}),Object(b.a)(n,y,function(e,t){return[].concat(Object(O.a)(e),[t.payload])}),n),[]),_=a(508),g="MOVIE_EDIT_MODAL",N="MOVIE_ADD_MODAL",x=Object(h.a)("SHOW_DELETE_MOVIE_MODAL"),L=Object(h.a)("SHOW_EDIT_MOVIE_MODAL"),S=Object(h.a)("SHOW_ADD_MOVIE_MODAL"),A=Object(h.a)("HIDE_DELETE_MOVIE_MODAL"),C=Object(h.a)("HIDE_EDIT_MOVIE_DATA_MODAL"),P=Object(h.a)("HIDE_ADD_MOVIE_MODAL"),k=Object(v.a)((r={},Object(b.a)(r,S,function(e){return Object(E.a)({},e,{shownModal:N})}),Object(b.a)(r,x,function(e,t){return Object(E.a)({},e,{shownModal:"MOVIE_DELETE_MODAL",movieToDeleteId:t.payload})}),Object(b.a)(r,L,function(e,t){return Object(E.a)({},e,{shownModal:g,movieToEditId:t.payload})}),Object(b.a)(r,Object(_.a)(A,C,P),function(e){return Object(E.a)({},e,{shownModal:"",movieToDeleteId:void 0,movieToEditId:void 0})}),r),{shownModal:"",movieToDeleteId:void 0,movieToEditId:void 0}),F=Object(m.c)({modals:k}),V=Object(m.c)({form:f.a,movies:T,ui:F}),H=a(47),W=a.n(H),G=a(48),R=a(205),B=a.n(R),Y="ee9fbbc",z=function(){return Promise.all(["The Grand Budapest Hotel","isle of dogs","the double"].map(function(e){return e.split(" ").join("+")}).map(function(e){return fetch("https://www.omdbapi.com/?t=".concat(e,"&apikey=").concat(Y)).then(function(e){return e.json()})}))},U=W.a.mark(X),J=W.a.mark(q);function X(){var e,t;return W.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(G.b)(z);case 2:return e=a.sent,t=e.map(function(e){return{id:e.imdbID,icon:e.Poster,title:e.Title,genre:e.Genre.split(", ").length?e.Genre.split(", ")[0]:e.Genre,year:Number.parseInt(e.Year,10),director:e.Director,runtime:Number.parseInt(e.Runtime.split(" ")[0],10)}}),a.next=6,Object(G.c)(j(t));case 6:case"end":return a.stop()}},U,this)}function q(e){var t;return W.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=B()(),a.next=3,Object(G.c)(y(Object(E.a)({},e.payload,{id:t})));case 3:case"end":return a.stop()}},J,this)}var $=[Object(G.d)("GET_MOVIES",X),Object(G.d)("ADD_MOVIE",q)],K=W.a.mark(Q);function Q(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)(Object(O.a)($));case 2:case"end":return e.stop()}},K,this)}var Z=Object(p.a)(),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,te=Object(m.e)(V,ee(Object(m.a)(Z)));Z.run(Q);var ae=a(99),ne=a(100),re=a(104),oe=a(101),ie=a(105),le=a(10),ce=a.n(le),se=a(9),ue=a.n(se),de=a(139),me=a.n(de),pe=a(140),fe=a.n(pe),be=a(206),Ee=a.n(be),Oe=a(207),ve=a.n(Oe),he=a(208),Me=a.n(he),je=a(43),De=a.n(je),we=a(209),ye=a.n(we),Ie=a(79),Te=a.n(Ie),_e=a(211),ge=a.n(_e),Ne=a(210),xe=a.n(Ne),Le=a(212),Se=a.n(Le),Ae=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).showDeleteMoviePopupHandler=function(e){return function(){(0,a.props.showDeleteMovieModal)(e)}},a.showEditMoviePopupHandler=function(e){return function(){(0,a.props.showEditMovieModal)(e)}},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getMovies)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.movies,n=t.classes,r=t.showAddMovieModal;return i.a.createElement("div",{className:ce()(n.root,"container-fluid")},i.a.createElement("div",{className:"row flex-wrap justify-content-center"},i.a.createElement("div",{className:"col-xs-12 col-sm-8"},i.a.createElement("div",{className:"row flex-column"},i.a.createElement(me.a,{className:ce()(n.list,"col-12")},a.map(function(t){return i.a.createElement(fe.a,{key:t.id,className:n.listItem},i.a.createElement(Ee.a,null,i.a.createElement(ve.a,{alt:"".concat(t.title," poster"),src:t.icon})),i.a.createElement(Me.a,{primary:i.a.createElement(i.a.Fragment,null,i.a.createElement(De.a,{variant:"h6",color:"textPrimary"},(a=t.title,Object(m.d)(function(e){return e.split("").filter(function(e){return/\w|\s/.test(e)}).join("")},function(e){return e.split(" ").map(function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}).join(" ")})(a))),t.genre),secondary:i.a.createElement(i.a.Fragment,null,i.a.createElement(De.a,{component:"span",color:"textPrimary"},"".concat(t.year,", ").concat(t.runtime," min")),t.director)}),i.a.createElement(ye.a,null,i.a.createElement(Te.a,{onClick:e.showDeleteMoviePopupHandler(t.id)},i.a.createElement(xe.a,null)),i.a.createElement(Te.a,{onClick:e.showEditMoviePopupHandler(t.id)},i.a.createElement(ge.a,null))));var a})),i.a.createElement(Te.a,{"aria-label":"Delete",className:ce()(n.addBtn,"ml-auto"),onClick:r},i.a.createElement(Se.a,null))))))}}]),t}(o.Component),Ce={getMovies:M,showDeleteMovieModal:x,showEditMovieModal:L,showAddMovieModal:S},Pe=Object(m.d)(ue()(function(){return{listItem:{marginBottom:10,backgroundColor:"#fff",alignItems:"flex-start"},list:{paddingBottom:0},addBtn:{marginTop:10,marginRight:5,backgroundColor:"#fff"},root:{height:"100%"}}}),Object(s.b)(function(e){return{movies:e.movies}},Ce))(Ae),ke=a(102),Fe=a.n(ke),Ve=a(52),He=a.n(Ve),We=a(213),Ge=a.n(We),Re=a(214),Be=a.n(Re),Ye=a(143),ze=function(e){return e.movies},Ue=function(e,t){return e.find(function(e){return e.id===t})},Je=Object(Ye.a)(ze,function(e){return e.ui.modals.movieToDeleteId},Ue),Xe=Object(Ye.a)(ze,function(e){return e.ui.modals.movieToEditId},Ue),qe=function(e){return e.ui.modals.shownModal},$e=function(e){return{paper:Object(b.a)({position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",top:200,left:"calc(50% - ".concat(50*e.spacing.unit/2,"px)")},e.breakpoints.down("sm"),{top:0,bottom:0,left:0,right:0,width:"auto"}),yearSelectList:{maxHeight:400,padding:0},inputField:{marginBottom:15,marginTop:15},errorLabel:{position:"absolute",bottom:-18}}},Ke={hideDeleteMovieModal:A,deleteMovie:I},Qe=Object(m.d)(Object(s.b)(function(e){return{shouldShow:"MOVIE_DELETE_MODAL"===e.ui.modals.shownModal,movie:Je(e)||{}}},Ke),ue()($e))(function(e){var t=e.hideDeleteMovieModal,a=e.shouldShow,n=e.deleteMovie,r=e.movie.id;return i.a.createElement(Ge.a,{open:a,onClose:t},i.a.createElement(Be.a,null,"Are you sure want to delete this movie?"),i.a.createElement(Fe.a,null,i.a.createElement(He.a,{onClick:t,color:"primary"},"No"),i.a.createElement(He.a,{onClick:function(){n(r),t()},color:"primary",autoFocus:!0},"Yes")))}),Ze=a(62),et=a(96),tt=a.n(et),at=a(98),nt=a(201),rt=a(74),ot=a(202),it=a(38),lt=a(216),ct=a.n(lt),st=function(e){return e?void 0:"Required Field"},ut=function(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)?void 0:"Should be a valid url"},dt=a(103),mt=a.n(dt),pt=Object(Ze.a)({startYear:1900,endYear:2019})(function(e){var t=e.startYear,a=e.endYear,n=e.classes,r=Array.from(new Array(a-t));return i.a.createElement(nt.a,{fullWidth:!0,select:!0,label:"Year",validate:[st],component:it.TextField,name:"year",className:n.inputField,FormHelperTextProps:{className:n.errorLabel},SelectProps:{MenuProps:{MenuListProps:{className:n.yearSelectList}}}},r.map(function(e,a){var n=t+a;return i.a.createElement(mt.a,{key:n,value:n.toString()},n)}))}),ft=Object(Ze.a)({genresList:["Absurdist/surreal/whimsical","Action","Adventure","Comedy","Crime","Drama","Fantasy","Historical","Historical fiction","Horror","Magical realism","Mystery","Paranoid Fiction","Philosophical","Political","Romance","Saga","Satire","Science fiction","Social","Speculative","Thriller","Urban","Western","Animation"]})(function(e){var t=e.genresList,a=e.classes;return i.a.createElement(nt.a,{fullWidth:!0,select:!0,multiple:!0,label:"Genre",className:a.inputField,validate:[st],component:it.TextField,name:"genre",FormHelperTextProps:{className:a.errorLabel},SelectProps:{MenuProps:{MenuListProps:{className:a.yearSelectList}}}},t.map(function(e){return i.a.createElement(mt.a,{key:e,value:e},e)}))}),bt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).handleSubmitClick=function(e,t,n){var r=a.props,o=r.modalName,i=r.addMovie,l=n.editMovie;if(a.checkIsDuplicatingName(e.title,e.id))throw new at.a({title:"Title already exist!"});o===g&&l(e),o===N&&i(e),a.handleClose()},a.handleClose=function(){var e=a.props,t=e.hideEditMovieDataModal,n=e.reset,r=e.modalName;t(),n(r)},a.checkIsDuplicatingName=function(e,t){return a.props.movies.some(function(a){var n=a.title,r=a.id;return n.toLowerCase()===e.toLowerCase()&&r!==t})},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleSubmit,n=e.isShown,r=e.modalName===N?"New Movie":"Edit Movie";return i.a.createElement(tt.a,{open:n,onClose:this.handleClose},i.a.createElement("form",{className:t.paper,onSubmit:a(this.handleSubmitClick)},i.a.createElement(De.a,{variant:"h6"},r),i.a.createElement(nt.a,{label:"Title",fullWidth:!0,validate:[st],component:it.TextField,name:"title",type:"text",className:t.inputField,FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(nt.a,{label:"Poster URL",fullWidth:!0,validate:[st,ut],component:it.TextField,name:"icon",type:"text",className:t.inputField,FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(pt,{classes:t}),i.a.createElement(ft,{classes:t}),i.a.createElement(nt.a,{label:"Runtime",fullWidth:!0,className:t.inputField,component:it.TextField,validate:[st],name:"runtime",type:"number",InputProps:{endAdornment:i.a.createElement(ct.a,{position:"end"},"min")},FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(nt.a,{fullWidth:!0,className:t.inputField,component:it.TextField,validate:[st],name:"director",label:"Director",type:"text",FormHelperTextProps:{className:t.errorLabel}}),i.a.createElement(Fe.a,null,i.a.createElement(He.a,{onClick:this.handleClose},"Cancel"),i.a.createElement(He.a,{type:"submit"},"Save"))))}}]),t}(o.Component),Et=function(e,t){var a=Xe(e);return{movies:e.movies,isShown:qe(e)===t.modalName,initialValues:Object(E.a)({},e[t.modalName],t.modalName!==N&&a?a:t.initialValues)}},Ot={editMovie:D,hideEditMovieDataModal:C,addMovie:w,reset:rt.a},vt={title:"",genre:[""],runtime:void 0,director:"",year:void 0},ht=function(e){return Object(m.d)(Object(Ze.a)({initialValues:vt,modalName:e}),Object(s.b)(Et,Ot),ue()($e),Object(ot.a)({form:e,enableReinitialize:!0}))(bt)},Mt=ht(g),jt=ht(N),Dt=a(141),wt=Object(Dt.createMuiTheme)({typography:{useNextVariants:!0}}),yt=function(){return i.a.createElement(d.a,{theme:wt},i.a.createElement(s.a,{store:te},i.a.createElement(Pe,null),i.a.createElement(Qe,null),i.a.createElement(Mt,null),i.a.createElement(jt,null)))};a(505);c.a.render(i.a.createElement(yt,null),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.87ca9507.chunk.js.map